(self["webpackChunkalinea_ui"]=self["webpackChunkalinea_ui"]||[]).push([[955],{6955:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>se});var l=o(3673),a=o(2323);const i={class:"q-ml-md"},n={class:"bg-primary text-white text-center q-pa-md flex flex-center"},s=(0,l._)("div",{style:{"font-size":"30vh"}},"404",-1),r=(0,l._)("div",{class:"text-h4",style:{opacity:"0.4"}},"Oops. Nothing here...",-1);function c(e,t,o,c,u,m){const d=(0,l.up)("q-btn"),p=(0,l.up)("q-toolbar-title"),g=(0,l.up)("q-tooltip"),_=(0,l.up)("q-space"),h=(0,l.up)("LoginDialog"),w=(0,l.up)("q-toolbar"),f=(0,l.up)("q-header"),v=(0,l.up)("q-page-container"),q=(0,l.up)("q-layout");return(0,l.wg)(),(0,l.j4)(q,{view:"lHh Lpr lFf",class:"bg-primary"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{elevated:""},{default:(0,l.w5)((()=>[(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[e.isAuthenticated?((0,l.wg)(),(0,l.j4)(d,{key:0,flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:e.toggleLeftDrawer},null,8,["onClick"])):(0,l.kq)("",!0),(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(d,{flat:"",to:"/"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.config.appName),1)])),_:1})])),_:1}),(0,l._)("div",i,[(0,l.Wm)(d,{flat:"",to:"/stories"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.$t("stories"))+" ",1),(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.$t("explore_stories")),1)])),_:1})])),_:1}),(0,l.Wm)(d,{flat:"",to:"/books"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.$t("books"))+" ",1),(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.$t("explore_books")),1)])),_:1})])),_:1}),(0,l.Wm)(d,{flat:"",to:"/search"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.$t("browse"))+" ",1),(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.$t("search_anything")),1)])),_:1})])),_:1})]),(0,l.Wm)(_),(0,l.Wm)(h)])),_:1})])),_:1}),(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l._)("div",n,[(0,l._)("div",null,[s,r,(0,l.Wm)(d,{class:"q-mt-xl",color:"white","text-color":"blue",unelevated:"",to:"/",label:e.$t("go_home"),"no-caps":""},null,8,["label"])])])])),_:1})])),_:1})}o(5363);const u={key:0},m={key:1},d={class:"gt-sm"},p={class:"row"},g={class:"col-12 text-center q-my-sm"},_={class:"col-12 text-center q-my-sm"};function h(e,t,o,i,n,s){const r=(0,l.up)("q-btn"),c=(0,l.up)("q-img"),h=(0,l.up)("q-separator"),w=(0,l.up)("q-card-section"),f=(0,l.up)("q-card"),v=(0,l.up)("q-dialog"),q=(0,l.up)("ActivationDialog");return(0,l.wg)(),(0,l.iD)("div",null,[e.isAuthenticated?((0,l.wg)(),(0,l.iD)("div",m,[null===e.myProfile||void 0===e.myProfile?((0,l.wg)(),(0,l.j4)(r,{key:0,"aria-label":e.$t("become_author"),outline:"",onClick:t[1]||(t[1]=t=>e.onBecomeAuthor()),class:"q-mr-sm"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.$t("become_author")),1)])),_:1},8,["aria-label"])):(0,l.kq)("",!0),(0,l.Wm)(r,{"aria-label":e.$t("logout"),outline:"",onClick:t[2]||(t[2]=t=>e.doLogout()),icon:"las la-sign-out-alt",class:"q-px-sm",tooltip:e.$t("tooltip_logout")},{default:(0,l.w5)((()=>[(0,l._)("div",d,(0,a.zw)(e.$t("logout")),1)])),_:1},8,["aria-label","tooltip"])])):((0,l.wg)(),(0,l.iD)("div",u,[(0,l.Wm)(r,{outline:"",onClick:t[0]||(t[0]=e=>s.onShowLoginDialog())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.$t("login")),1)])),_:1})])),(0,l.Wm)(v,{modelValue:e.loginDialog,"onUpdate:modelValue":t[4]||(t[4]=t=>e.loginDialog=t)},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{class:"my-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{lazy:"",src:"https://cdn.quasar.dev/img/chicken-salad.jpg",height:"150px"}),(0,l.Wm)(h),(0,l.Wm)(w,null,{default:(0,l.w5)((()=>[(0,l._)("div",p,[(0,l._)("div",g,[(0,l.Wm)(r,{color:"primary",onClick:t[3]||(t[3]=e=>s.setRequireAuth())},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.$t("login_with_alinea")),1)])),_:1})]),(0,l._)("div",_,[(0,l.Wm)(r,{outline:""},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(e.$t("login_with_google")),1)])),_:1})])])])),_:1}),(0,l.Wm)(h)])),_:1})])),_:1},8,["modelValue"]),e.isAuthenticated?((0,l.wg)(),(0,l.j4)(q,{key:2})):(0,l.kq)("",!0)])}var w=o(9447),f=o(4133),v=o.n(f);const q={class:"row q-col-gutter-lg"},x={class:"col-12 text-h4 text-center text-secondary"},k={class:"col-6 text-center q-mx-auto"},b={class:"col-12 text-h6 text-center text-secondary"},y={class:"q-mx-auto",style:{"max-width":"400px"}},$={class:"row q-col-gutter-md"},D={class:"col-12 text-h4 text-center text-secondary q-mb-lg"},W={class:"row"},Z={class:"col text-h4 text-center"},C=(0,l._)("div",{class:"row"},[(0,l._)("div",{class:"col text-center"},"completed!")],-1);function Q(e,t,o,i,n,s){const r=(0,l.up)("q-img"),c=(0,l.up)("q-step"),u=(0,l.up)("SchemaForm"),m=(0,l.up)("q-btn"),d=(0,l.up)("q-stepper-navigation"),p=(0,l.up)("q-stepper"),g=(0,l.up)("q-card"),_=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(_,{modelValue:e.activationDialog,"onUpdate:modelValue":t[4]||(t[4]=t=>e.activationDialog=t),onBeforeHide:t[5]||(t[5]=t=>e.onResetFormData())},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{style:{"min-height":"400px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"bg-transparent",flat:"",modelValue:n.step,"onUpdate:modelValue":t[3]||(t[3]=e=>n.step=e),ref:"stepper",animated:"","alternative-labels":"","done-color":"secondary","active-color":"primary","inactive-color":"grey",onInput:s.onStepLoaded},{navigation:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"text-center"},{default:(0,l.w5)((()=>[1===n.step?((0,l.wg)(),(0,l.j4)(m,{key:0,outline:"",color:"primary",label:e.$t("cancel"),class:"q-mx-xs",onClick:t[0]||(t[0]=e=>s.onCloseDialog())},null,8,["label"])):(0,l.kq)("",!0),n.step>1?((0,l.wg)(),(0,l.j4)(m,{key:1,outline:"",color:"primary",onClick:t[1]||(t[1]=t=>e.$refs.stepper.previous()),label:"Back",class:"q-mx-xs"})):(0,l.kq)("",!0),(0,l.Wm)(m,{onClick:t[2]||(t[2]=e=>s.onConfirm(n.step)),color:"primary",class:"q-mx-xs",label:3===n.step?"Create":"Continue"},null,8,["label"])])),_:1})])),default:(0,l.w5)((()=>[(0,l.Wm)(c,{name:1,icon:"settings",title:e.$t("confirmation"),done:n.step>1},{default:(0,l.w5)((()=>[(0,l._)("div",q,[(0,l._)("div",x,(0,a.zw)(e.$t("one_step_closer_to_inspiring_the_world")),1),(0,l._)("div",k,[(0,l.Wm)(r,{src:v()})]),(0,l._)("div",b,[(0,l._)("div",y,(0,a.zw)(e.$t("by_continue_agreements")),1)])])])),_:1},8,["title","done"]),(0,l.Wm)(c,{name:2,caption:e.$t("optional"),icon:"las la-user-circle",title:e.$t("set_avatar"),done:n.step>2},{default:(0,l.w5)((()=>[(0,l._)("div",$,[(0,l._)("div",D,(0,a.zw)(e.$t("complete_author_profile")),1),(0,l.Wm)(u,{schema:s.getDialogSchema,class:"q-mx-auto"},null,8,["schema"])])])),_:1},8,["caption","title","done"]),(0,l.Wm)(c,{name:3,title:e.$t("complete_profile"),icon:"las la-check-circle"},{default:(0,l.w5)((()=>[(0,l._)("div",W,[(0,l._)("div",Z,(0,a.zw)(e.$t("complete_author_profile_2")),1)]),C])),_:1},8,["title"])])),_:1},8,["modelValue","onInput"])])),_:1})])),_:1},8,["modelValue"])])}var z=o(1959),S=o(7087),L=o(3617);const U={name:"ActivationDialog",components:{SchemaForm:S.SchemaForm},data(){return{step:1}},setup(){const e=(0,z.iH)({});return(0,S.useSchemaForm)(e),{userData:e}},computed:{...(0,L.Se)({activationDialog:"ui/getActivationDialog",getDialogForm:"ui/getDialogForm"}),getDialogSchema(){return this.getDialogForm.schema},getDialogModel(){return this.getDialogForm.model}},methods:{onCloseDialog(){this.$store.commit("ui/hideActivationDialog")},onStepLoaded(e){},onValidate(){return!0},onConfirm(e){if(1===e)this.$refs.stepper.next();else if(2===e)this.$refs.stepper.next();else if(3===e)if(this.onValidate()){const e=this.$store.dispatch("model/enableAuthor");void 0!==e&&e.then((e=>{this.doLogout()}))}else alert("invalid");else this.$refs.stepper.next()}}};var A=o(4260),V=o(6778),F=o(151),j=o(3518),B=o(6552),H=o(4027),I=o(118),P=o(3002),R=o(7518),T=o.n(R);const N=(0,A.Z)(U,[["render",Q]]),M=N;T()(U,"components",{QDialog:V.Z,QCard:F.Z,QStepper:j.Z,QStep:B.Z,QImg:H.Z,QStepperNavigation:I.Z,QBtn:P.Z});const O={name:"LoginDialog",components:{ActivationDialog:M},setup(){return{}},methods:{onShowLoginDialog(){this.$store.commit("ui/showLoginDialog")},setRequireAuth(){w.secureStorage.setItem("is_require_auth",!0),this.$router.push("/login"),this.$router.go()}},computed:{}};var E=o(5869),G=o(5589);const J=(0,A.Z)(O,[["render",h]]),K=J;T()(O,"components",{QBtn:P.Z,QDialog:V.Z,QCard:F.Z,QImg:H.Z,QSeparator:E.Z,QCardSection:G.Z});const X=(0,l.aZ)({name:"ErrorLayout",components:{LoginDialog:K},mounted(){const e=(0,z.iH)(this.$router.currentRoute);void 0!==e.value&&e.value.fullPath.indexOf("&state=")>-1&&this.$router.replace("/")}});var Y=o(3066),ee=o(3812),te=o(9570),oe=o(3747),le=o(8870),ae=o(2025),ie=o(2652);const ne=(0,A.Z)(X,[["render",c]]),se=ne;T()(X,"components",{QLayout:Y.Z,QHeader:ee.Z,QToolbar:te.Z,QBtn:P.Z,QToolbarTitle:oe.Z,QTooltip:le.Z,QSpace:ae.Z,QPageContainer:ie.Z})},4133:(e,t,o)=>{e.exports=o.p+"img/become_author.94f58df0.png"}}]);