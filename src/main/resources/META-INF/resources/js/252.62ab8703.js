"use strict";(self["webpackChunkalinea_ui"]=self["webpackChunkalinea_ui"]||[]).push([[252],{5252:(e,t,o)=>{o.r(t),o.d(t,{default:()=>C});var a=o(3673),l=o(2323);const r={class:"q-ml-md"};function i(e,t,o,i,n,s){const u=(0,a.up)("q-btn"),m=(0,a.up)("UserBadge"),d=(0,a.up)("q-toolbar-title"),g=(0,a.up)("q-tooltip"),h=(0,a.up)("q-toolbar"),c=(0,a.up)("Toolbar"),p=(0,a.up)("q-header"),f=(0,a.up)("EssentialLink"),D=(0,a.up)("q-drawer"),w=(0,a.up)("DashboardDialog"),b=(0,a.up)("router-view"),v=(0,a.up)("q-page-container"),_=(0,a.up)("q-layout");return(0,a.wg)(),(0,a.j4)(_,{view:"hHh Lpr fFf"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{bordered:""},{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{flat:"",round:"",dense:"",icon:"menu",onClick:i.toggleLeftDrawer},null,8,["onClick"]),(0,a.Wm)(d,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{avatar:e.config.defaultImageURL,name:e.getUserFullname},null,8,["avatar","name"])])),_:1}),(0,a._)("div",r,[(0,a.Wm)(u,{class:"q-ml-sm",outline:""},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.$t("wallet"))+" ",1),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.$t("explore_books")),1)])),_:1})])),_:1})])])),_:1}),(0,a.Wm)(c)])),_:1}),(0,a.Wm)(D,{modelValue:i.leftDrawerOpen,"onUpdate:modelValue":t[0]||(t[0]=e=>i.leftDrawerOpen=e),side:"left",bordered:"",class:"bg-grey-2"},{default:(0,a.w5)((()=>[(0,a.Wm)(f)])),_:1},8,["modelValue"]),(0,a.Wm)(w),(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a.Wm)(b)])),_:1})])),_:1})}o(71);var n=o(1959),s=o(3617);const u=(0,a.RC)((()=>Promise.all([o.e(736),o.e(98)]).then(o.bind(o,2098)))),m=(0,a.RC)((()=>Promise.all([o.e(736),o.e(268)]).then(o.bind(o,5268)))),d=(0,a.RC)((()=>o.e(273).then(o.bind(o,9273)))),g=(0,a.RC)((()=>Promise.all([o.e(736),o.e(943)]).then(o.bind(o,9943)))),h=(0,a.RC)((()=>Promise.all([o.e(736),o.e(178)]).then(o.bind(o,8178)))),c={name:"AuthorLayout",components:{EssentialLink:u,DashboardDialog:m,Toolbar:g,UserBadge:d},setup(){const e=(0,n.iH)(!1);return{enabled:!0,leftDrawerOpen:e,toggleLeftDrawer(){e.value=!e.value}}},mounted(){},methods:{onSaveStory(){const e=this.$store.dispatch("model/createStory",this.getDialogModel);void 0!==e&&null!==e&&e.then((()=>{this.$q.notify({color:"positive",message:this.$t("succesfully_saved")}),this.$store.commit("ui/hideDashboardDialog"),this.getSecureStorage.removeItem("my-stories"),this.$store.dispatch("model/fetchAuthorStories")}))},onCreateStory(){this.$store.commit("ui/resetFormModel"),this.$store.commit("ui/showDashboardDialog",{title:this.$t("create_story"),schema:h,events:{onSave:()=>{this.onSaveStory()}}})}},computed:{...(0,s.Se)({getDialogForm:"ui/getDialogForm"}),getDialogTitle(){return this.getDialogForm.title},getDialogSchema(){return this.getDialogForm.schema},getDialogModel(){return this.getDialogForm.model},getDialogEvent(){return this.getDialogForm.events}}};var p=o(4260),f=o(3066),D=o(3812),w=o(9570),b=o(3002),v=o(3747),_=o(8870),W=o(6873),y=o(2652),S=o(7518),k=o.n(S);const q=(0,p.Z)(c,[["render",i]]),C=q;k()(c,"components",{QLayout:f.Z,QHeader:D.Z,QToolbar:w.Z,QBtn:b.Z,QToolbarTitle:v.Z,QTooltip:_.Z,QDrawer:W.Z,QPageContainer:y.Z})}}]);